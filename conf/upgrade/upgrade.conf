# Online upgrade
# start 1 bucket kv cluster.  Load static data.  Then after upgrade, add a kv:n1ql node, create views and query views
upgrade.upgrade_tests.UpgradeTests:
    test_upgrade,items=20000,initial_version=2.5.0-1059-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=2.5.1-1083-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=2.5.2-1154-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.0-1209,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.2-1603,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.3-1716,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.0-1776,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.1-1807,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.2-1815,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.3-1823,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=4.0.0-4051,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=4.1.0-5005,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views,after_upgrade_services_in=kv:n1ql
#
# start 1 bucket kv cluster.  Load static data.  Then after upgrade, add a kv:n1ql node, create views, query views and remove a node
upgrade.upgrade_tests.UpgradeTests:
    test_upgrade,items=20000,initial_version=2.5.0-1059-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=2.5.1-1083-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=2.5.2-1154-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.0-1209,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.2-1603,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.3-1716,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.0-1776,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.1-1807,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.2-1815,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.3-1823,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=4.0.0-4051,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=4.1.0-5005,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize,after_events=rebalance_in-create_views-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
#
# start 1 bucket kv cluster.  Load static data, create views and query views.  Then after upgrade, add a kv:n1ql node and query views
upgrade.upgrade_tests.UpgradeTests:
    test_upgrade,items=20000,initial_version=2.5.0-1059-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=2.5.1-1083-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=2.5.2-1154-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.0-1209,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.2-1603,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.3-1716,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.0-1776,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.1-1807,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.2-1815,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.3-1823,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=4.0.0-4051,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=4.1.0-5005,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views,after_upgrade_services_in=kv:n1ql
#
# start 1 bucket kv cluster.  Load static data, create views and query views.  Then after upgrade, add a kv:n1ql node, query views and remove a node
upgrade.upgrade_tests.UpgradeTests:
    test_upgrade,items=20000,initial_version=2.5.0-1059-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=2.5.1-1083-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=2.5.2-1154-rel,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.0-1209,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.2-1603,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.0.3-1716,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.0-1776,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.1-1807,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.2-1815,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=3.1.3-1823,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=4.0.0-4051,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
    test_upgrade,items=20000,initial_version=4.1.0-5005,nodes_init=3,upgrade_type=online,initialize_events=kv_ops_initialize-create_views-query_views,after_events=rebalance_in-query_views-rebalance_outafter_upgrade_services_in=kv:n1ql
